<!--
  Generated template for the RegisterFisherInfoPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar>
        <ion-title>register-fisher-info</ion-title>
    </ion-navbar>
</ion-header>


<ion-content>
    <form #registerFisherDetailsForm="ngForm">
        <h3 text-center>Fisher information</h3>

        <ion-list>
            <!--Select province -->
            <ion-item>
                <ion-label>Province</ion-label>
                <ion-select [(ngModel)]="selectedProvince"
                            (ngModelChange)="resetCommunity()"
                            name="user_province"
                            required
                            #user_province="ngModel">
                    <ion-option *ngFor="let province of comms.getProvinces()" [value]="province.key">
                        {{province.name}}
                    </ion-option>

                    <ion-option [value]="'other'">
                        Other
                    </ion-option>
                </ion-select>
            </ion-item>

            <!--Select Community-->
            <ion-item *ngIf="selectedProvince && selectedProvince !== 'other'">
                <ion-label>Community</ion-label>
                <ion-select [(ngModel)]="reg.registration.user.community"
                            name="user_community"
                            required
                            #user_community="ngModel">
                    <ion-option *ngFor="let community of comms.getFilteredCommunities(selectedProvince)"
                                [value]="community.unique_ext_id__c">
                        {{community.name_eng__c}}
                    </ion-option>
                    <ion-option
                        value="other">
                        Other
                    </ion-option>
                </ion-select>
            </ion-item>

            <ion-item *ngIf="selectedProvince === 'other' || reg.registration.user.community === 'other'">
                <ion-label floating>Please enter your community name</ion-label>
                <ion-input type="text"
                           [(ngModel)]="reg.registration.user.community_custom"
                           required
                           name="user_community_custom"
                           #user_community_custom="ngModel"
                ></ion-input>
            </ion-item>

        </ion-list>


        <!--ID Number-->

        <!--Date of birth-->

        <!--Personal Cellphone number-->

        <button ion-button block class="ablb-button abalobi-button-darkblue"
                [disabled]="!registerFisherDetailsForm.form.valid"
                (click)="continue()">Continue
        </button>
    </form>


    <pre class="hacker-console" padding>{{this.reg.printRegistration()}}</pre>
</ion-content>
